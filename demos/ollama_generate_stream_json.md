# ollama_generate_stream_json

A [demo](../README.md#demos) of [Ollama Bash Lib](https://github.com/attogram/ollama-bash-lib) v0.39.5

## Demo

```bash
ollama_generate_stream_json "dolphin-mistral:7b" "Describe a rabbit in 2 short sentences"
```
```json
{"model":"dolphin-mistral:7b","created_at":"2025-07-30T20:32:14.688517Z","response":"A","done":false}
{"model":"dolphin-mistral:7b","created_at":"2025-07-30T20:32:14.736931Z","response":" rab","done":false}
{"model":"dolphin-mistral:7b","created_at":"2025-07-30T20:32:14.784851Z","response":"bit","done":false}
{"model":"dolphin-mistral:7b","created_at":"2025-07-30T20:32:14.833586Z","response":" is","done":false}
{"model":"dolphin-mistral:7b","created_at":"2025-07-30T20:32:14.883493Z","response":" a","done":false}
{"model":"dolphin-mistral:7b","created_at":"2025-07-30T20:32:14.931815Z","response":" small","done":false}
{"model":"dolphin-mistral:7b","created_at":"2025-07-30T20:32:14.980539Z","response":" mamm","done":false}
{"model":"dolphin-mistral:7b","created_at":"2025-07-30T20:32:15.029807Z","response":"al","done":false}
{"model":"dolphin-mistral:7b","created_at":"2025-07-30T20:32:15.079151Z","response":" known","done":false}
{"model":"dolphin-mistral:7b","created_at":"2025-07-30T20:32:15.127775Z","response":" for","done":false}
{"model":"dolphin-mistral:7b","created_at":"2025-07-30T20:32:15.176887Z","response":" its","done":false}
{"model":"dolphin-mistral:7b","created_at":"2025-07-30T20:32:15.227308Z","response":" long","done":false}
{"model":"dolphin-mistral:7b","created_at":"2025-07-30T20:32:15.275636Z","response":" ears","done":false}
{"model":"dolphin-mistral:7b","created_at":"2025-07-30T20:32:15.324532Z","response":" and","done":false}
{"model":"dolphin-mistral:7b","created_at":"2025-07-30T20:32:15.373192Z","response":" soft","done":false}
{"model":"dolphin-mistral:7b","created_at":"2025-07-30T20:32:15.421782Z","response":" fur","done":false}
{"model":"dolphin-mistral:7b","created_at":"2025-07-30T20:32:15.470496Z","response":",","done":false}
{"model":"dolphin-mistral:7b","created_at":"2025-07-30T20:32:15.519189Z","response":" often","done":false}
{"model":"dolphin-mistral:7b","created_at":"2025-07-30T20:32:15.568517Z","response":" found","done":false}
{"model":"dolphin-mistral:7b","created_at":"2025-07-30T20:32:15.618043Z","response":" hop","done":false}
{"model":"dolphin-mistral:7b","created_at":"2025-07-30T20:32:15.668528Z","response":"ping","done":false}
{"model":"dolphin-mistral:7b","created_at":"2025-07-30T20:32:15.719835Z","response":" about","done":false}
{"model":"dolphin-mistral:7b","created_at":"2025-07-30T20:32:15.768187Z","response":" in","done":false}
{"model":"dolphin-mistral:7b","created_at":"2025-07-30T20:32:15.816901Z","response":" fields","done":false}
{"model":"dolphin-mistral:7b","created_at":"2025-07-30T20:32:15.865609Z","response":" or","done":false}
{"model":"dolphin-mistral:7b","created_at":"2025-07-30T20:32:15.915495Z","response":" gardens","done":false}
{"model":"dolphin-mistral:7b","created_at":"2025-07-30T20:32:15.96436Z","response":".","done":false}
{"model":"dolphin-mistral:7b","created_at":"2025-07-30T20:32:16.012786Z","response":" It","done":false}
{"model":"dolphin-mistral:7b","created_at":"2025-07-30T20:32:16.06245Z","response":" is","done":false}
{"model":"dolphin-mistral:7b","created_at":"2025-07-30T20:32:16.11166Z","response":" a","done":false}
{"model":"dolphin-mistral:7b","created_at":"2025-07-30T20:32:16.160723Z","response":" social","done":false}
{"model":"dolphin-mistral:7b","created_at":"2025-07-30T20:32:16.210235Z","response":" creature","done":false}
{"model":"dolphin-mistral:7b","created_at":"2025-07-30T20:32:16.25877Z","response":" that","done":false}
{"model":"dolphin-mistral:7b","created_at":"2025-07-30T20:32:16.309189Z","response":" lives","done":false}
{"model":"dolphin-mistral:7b","created_at":"2025-07-30T20:32:16.357644Z","response":" in","done":false}
{"model":"dolphin-mistral:7b","created_at":"2025-07-30T20:32:16.407381Z","response":" groups","done":false}
{"model":"dolphin-mistral:7b","created_at":"2025-07-30T20:32:16.456084Z","response":" called","done":false}
{"model":"dolphin-mistral:7b","created_at":"2025-07-30T20:32:16.505216Z","response":" colon","done":false}
{"model":"dolphin-mistral:7b","created_at":"2025-07-30T20:32:16.554398Z","response":"ies","done":false}
{"model":"dolphin-mistral:7b","created_at":"2025-07-30T20:32:16.603484Z","response":" and","done":false}
{"model":"dolphin-mistral:7b","created_at":"2025-07-30T20:32:16.652963Z","response":" pre","done":false}
{"model":"dolphin-mistral:7b","created_at":"2025-07-30T20:32:16.701549Z","response":"fers","done":false}
{"model":"dolphin-mistral:7b","created_at":"2025-07-30T20:32:16.750562Z","response":" to","done":false}
{"model":"dolphin-mistral:7b","created_at":"2025-07-30T20:32:16.800038Z","response":" eat","done":false}
{"model":"dolphin-mistral:7b","created_at":"2025-07-30T20:32:16.849419Z","response":" grass","done":false}
{"model":"dolphin-mistral:7b","created_at":"2025-07-30T20:32:16.89829Z","response":",","done":false}
{"model":"dolphin-mistral:7b","created_at":"2025-07-30T20:32:16.947113Z","response":" leaves","done":false}
{"model":"dolphin-mistral:7b","created_at":"2025-07-30T20:32:16.996148Z","response":",","done":false}
{"model":"dolphin-mistral:7b","created_at":"2025-07-30T20:32:17.045553Z","response":" and","done":false}
{"model":"dolphin-mistral:7b","created_at":"2025-07-30T20:32:17.094911Z","response":" other","done":false}
{"model":"dolphin-mistral:7b","created_at":"2025-07-30T20:32:17.146764Z","response":" plants","done":false}
{"model":"dolphin-mistral:7b","created_at":"2025-07-30T20:32:17.196186Z","response":".","done":false}
{"model":"dolphin-mistral:7b","created_at":"2025-07-30T20:32:17.24619Z","response":"","done":true,"done_reason":"stop","context":[32001,1587,13,1976,460,15052,721,262,28725,264,10865,16107,13892,28723,13,32000,28705,13,32001,2188,13,22836,264,16479,2581,297,28705,28750,2485,23748,32000,28705,13,32001,13892,13,28741,16479,2581,349,264,1741,27454,282,2651,354,871,1043,12446,304,2664,2982,28725,2608,1419,4654,2917,684,297,5080,442,22461,28723,661,349,264,2809,15287,369,4621,297,4938,1987,8039,497,304,710,17556,298,5310,10109,28725,8049,28725,304,799,9923,28723],"total_duration":5209530709,"load_duration":2128138084,"prompt_eval_count":37,"prompt_eval_duration":520853875,"eval_count":53,"eval_duration":2558366583}
```

## Demo Debug

```bash
OLLAMA_LIB_DEBUG=1 ollama_generate_stream_json "dolphin-mistral:7b" "Describe a rabbit in 2 short sentences"
```
```json
[DEBUG] ollama_generate_stream_json: [dolphin-mistral:7b] [Describe a rabbit in 2 short sentences]
[DEBUG] ollama_generate_json: [dolphin-mistral:7b] [Describe a rabbit in 2 short sentences]
[DEBUG] ollama_generate_json: OLLAMA_LIB_STREAM: 1
[DEBUG] json_safe_value: 19 bytes [dolphin-mistral:7b]
[DEBUG] json_safe_value: 39 bytes [Describe a rabbit in 2 short sentences]
[DEBUG] ollama_api_post: [/api/generate] [{"model":"dolphin-mistral:7b","prompt":"De]
{"model":"dolphin-mistral:7b","created_at":"2025-07-30T20:32:17.393207Z","response":"A","done":false}
{"model":"dolphin-mistral:7b","created_at":"2025-07-30T20:32:17.443815Z","response":" rab","done":false}
{"model":"dolphin-mistral:7b","created_at":"2025-07-30T20:32:17.496128Z","response":"bit","done":false}
{"model":"dolphin-mistral:7b","created_at":"2025-07-30T20:32:17.547238Z","response":" is","done":false}
{"model":"dolphin-mistral:7b","created_at":"2025-07-30T20:32:17.598459Z","response":" a","done":false}
{"model":"dolphin-mistral:7b","created_at":"2025-07-30T20:32:17.649164Z","response":" small","done":false}
{"model":"dolphin-mistral:7b","created_at":"2025-07-30T20:32:17.699959Z","response":" mamm","done":false}
{"model":"dolphin-mistral:7b","created_at":"2025-07-30T20:32:17.751704Z","response":"al","done":false}
{"model":"dolphin-mistral:7b","created_at":"2025-07-30T20:32:17.803565Z","response":" known","done":false}
{"model":"dolphin-mistral:7b","created_at":"2025-07-30T20:32:17.852488Z","response":" for","done":false}
{"model":"dolphin-mistral:7b","created_at":"2025-07-30T20:32:17.901576Z","response":" its","done":false}
{"model":"dolphin-mistral:7b","created_at":"2025-07-30T20:32:17.950733Z","response":" long","done":false}
{"model":"dolphin-mistral:7b","created_at":"2025-07-30T20:32:18.000054Z","response":" ears","done":false}
{"model":"dolphin-mistral:7b","created_at":"2025-07-30T20:32:18.050044Z","response":" and","done":false}
{"model":"dolphin-mistral:7b","created_at":"2025-07-30T20:32:18.09997Z","response":" white","done":false}
{"model":"dolphin-mistral:7b","created_at":"2025-07-30T20:32:18.149391Z","response":" fur","done":false}
{"model":"dolphin-mistral:7b","created_at":"2025-07-30T20:32:18.198906Z","response":",","done":false}
{"model":"dolphin-mistral:7b","created_at":"2025-07-30T20:32:18.247844Z","response":" typically","done":false}
{"model":"dolphin-mistral:7b","created_at":"2025-07-30T20:32:18.296984Z","response":" found","done":false}
{"model":"dolphin-mistral:7b","created_at":"2025-07-30T20:32:18.346018Z","response":" in","done":false}
{"model":"dolphin-mistral:7b","created_at":"2025-07-30T20:32:18.394871Z","response":" grass","done":false}
{"model":"dolphin-mistral:7b","created_at":"2025-07-30T20:32:18.443725Z","response":"y","done":false}
{"model":"dolphin-mistral:7b","created_at":"2025-07-30T20:32:18.492953Z","response":" environments","done":false}
{"model":"dolphin-mistral:7b","created_at":"2025-07-30T20:32:18.5414Z","response":" or","done":false}
{"model":"dolphin-mistral:7b","created_at":"2025-07-30T20:32:18.590262Z","response":" fields","done":false}
{"model":"dolphin-mistral:7b","created_at":"2025-07-30T20:32:18.638842Z","response":".","done":false}
{"model":"dolphin-mistral:7b","created_at":"2025-07-30T20:32:18.687511Z","response":" It","done":false}
{"model":"dolphin-mistral:7b","created_at":"2025-07-30T20:32:18.735984Z","response":" is","done":false}
{"model":"dolphin-mistral:7b","created_at":"2025-07-30T20:32:18.784819Z","response":" a","done":false}
{"model":"dolphin-mistral:7b","created_at":"2025-07-30T20:32:18.834595Z","response":" popular","done":false}
{"model":"dolphin-mistral:7b","created_at":"2025-07-30T20:32:18.882959Z","response":" pet","done":false}
{"model":"dolphin-mistral:7b","created_at":"2025-07-30T20:32:18.932821Z","response":" due","done":false}
{"model":"dolphin-mistral:7b","created_at":"2025-07-30T20:32:18.981372Z","response":" to","done":false}
{"model":"dolphin-mistral:7b","created_at":"2025-07-30T20:32:19.030351Z","response":" its","done":false}
{"model":"dolphin-mistral:7b","created_at":"2025-07-30T20:32:19.079519Z","response":" play","done":false}
{"model":"dolphin-mistral:7b","created_at":"2025-07-30T20:32:19.128677Z","response":"ful","done":false}
{"model":"dolphin-mistral:7b","created_at":"2025-07-30T20:32:19.177519Z","response":" nature","done":false}
{"model":"dolphin-mistral:7b","created_at":"2025-07-30T20:32:19.226996Z","response":" and","done":false}
{"model":"dolphin-mistral:7b","created_at":"2025-07-30T20:32:19.279927Z","response":" soft","done":false}
{"model":"dolphin-mistral:7b","created_at":"2025-07-30T20:32:19.336178Z","response":" appearance","done":false}
{"model":"dolphin-mistral:7b","created_at":"2025-07-30T20:32:19.38699Z","response":".","done":false}
{"model":"dolphin-mistral:7b","created_at":"2025-07-30T20:32:19.438388Z","response":"","done":true,"done_reason":"stop","context":[32001,1587,13,1976,460,15052,721,262,28725,264,10865,16107,13892,28723,13,32000,28705,13,32001,2188,13,22836,264,16479,2581,297,28705,28750,2485,23748,32000,28705,13,32001,13892,13,28741,16479,2581,349,264,1741,27454,282,2651,354,871,1043,12446,304,3075,2982,28725,9566,1419,297,10109,28724,20031,442,5080,28723,661,349,264,4387,5408,2940,298,871,1156,1007,4735,304,2664,9293,28723],"total_duration":2117356375,"load_duration":20426166,"prompt_eval_count":37,"prompt_eval_duration":50005500,"eval_count":42,"eval_duration":2046223500}
[DEBUG] ollama_api_post: return 0
[DEBUG] ollama_generate_json: return: 0
[DEBUG] ollama_generate_stream_json: return: 0
```
