# ollama_generate_stream

A [demo](../README.md#demos) of [Ollama Bash Lib](https://github.com/attogram/ollama-bash-lib) v0.40.5

## Demo

```bash
ollama_generate_stream "granite3.3:8b" "Describe a rabbit in 2 short sentences"
```
```
A rabbit is a small, soft-furred mammal known for its long ears and powerful hind legs, well-adapted for jumping. They are often found in burrows and are herbivorous, feeding mainly on grasses and soft plant materials.```

## Demo Debug

```bash
`OLLAMA_LIB_DEBUG=1 ollama_generate_stream "granite3.3:8b" "Describe a rabbit in 2 short sentences"`
```
```json
[DEBUG] ollama_generate_stream: [granite3.3:8b] [Describe a rabbit in 2 short sentences]
[DEBUG] ollama_generate_json: [granite3.3:8b] [Describe a rabbit in 2 short sentences]
[DEBUG] ollama_generate_json: OLLAMA_LIB_STREAM: 1
[DEBUG] json_clean: 14 bytes [granite3.3:8b]
[DEBUG] json_clean: 39 bytes [Describe a rabbit in 2 short sentences]
[DEBUG] ollama_api_post: [/api/generate] [{"model":"granite3.3:8b","prompt":"Describ]
[DEBUG] ollama_api_post: return 0
[DEBUG] ollama_generate_json: return: 0
[DEBUG] json_sanitize: 97 bytes [{"model":"granite3.3:8b","created_at":"202]
[DEBUG] json_sanitize: sanitized: 97 bytes [[{"model":"granite3.3:8b","created_at":"202]]
A[DEBUG] json_sanitize: 103 bytes [{"model":"granite3.3:8b","created_at":"202]
[DEBUG] json_sanitize: sanitized: 103 bytes [[{"model":"granite3.3:8b","created_at":"202]]
 rabbit[DEBUG] json_sanitize: 98 bytes [{"model":"granite3.3:8b","created_at":"202]
[DEBUG] json_sanitize: sanitized: 98 bytes [[{"model":"granite3.3:8b","created_at":"202]]
 is[DEBUG] json_sanitize: 98 bytes [{"model":"granite3.3:8b","created_at":"202]
[DEBUG] json_sanitize: sanitized: 98 bytes [[{"model":"granite3.3:8b","created_at":"202]]
 a[DEBUG] json_sanitize: 102 bytes [{"model":"granite3.3:8b","created_at":"202]
[DEBUG] json_sanitize: sanitized: 102 bytes [[{"model":"granite3.3:8b","created_at":"202]]
 small[DEBUG] json_sanitize: 97 bytes [{"model":"granite3.3:8b","created_at":"202]
[DEBUG] json_sanitize: sanitized: 97 bytes [[{"model":"granite3.3:8b","created_at":"202]]
,[DEBUG] json_sanitize: 101 bytes [{"model":"granite3.3:8b","created_at":"202]
[DEBUG] json_sanitize: sanitized: 101 bytes [[{"model":"granite3.3:8b","created_at":"202]]
 long[DEBUG] json_sanitize: 97 bytes [{"model":"granite3.3:8b","created_at":"202]
[DEBUG] json_sanitize: sanitized: 97 bytes [[{"model":"granite3.3:8b","created_at":"202]]
-[DEBUG] json_sanitize: 97 bytes [{"model":"granite3.3:8b","created_at":"202]
[DEBUG] json_sanitize: sanitized: 97 bytes [[{"model":"granite3.3:8b","created_at":"202]]
e[DEBUG] json_sanitize: 100 bytes [{"model":"granite3.3:8b","created_at":"202]
[DEBUG] json_sanitize: sanitized: 100 bytes [[{"model":"granite3.3:8b","created_at":"202]]
ared[DEBUG] json_sanitize: 98 bytes [{"model":"granite3.3:8b","created_at":"202]
[DEBUG] json_sanitize: sanitized: 98 bytes [[{"model":"granite3.3:8b","created_at":"202]]
 m[DEBUG] json_sanitize: 98 bytes [{"model":"granite3.3:8b","created_at":"202]
[DEBUG] json_sanitize: sanitized: 98 bytes [[{"model":"granite3.3:8b","created_at":"202]]
am[DEBUG] json_sanitize: 98 bytes [{"model":"granite3.3:8b","created_at":"202]
[DEBUG] json_sanitize: sanitized: 98 bytes [[{"model":"granite3.3:8b","created_at":"202]]
mal[DEBUG] json_sanitize: 102 bytes [{"model":"granite3.3:8b","created_at":"202]
[DEBUG] json_sanitize: sanitized: 102 bytes [[{"model":"granite3.3:8b","created_at":"202]]
 known[DEBUG] json_sanitize: 100 bytes [{"model":"granite3.3:8b","created_at":"202]
[DEBUG] json_sanitize: sanitized: 100 bytes [[{"model":"granite3.3:8b","created_at":"202]]
 for[DEBUG] json_sanitize: 100 bytes [{"model":"granite3.3:8b","created_at":"202]
[DEBUG] json_sanitize: sanitized: 100 bytes [[{"model":"granite3.3:8b","created_at":"202]]
 its[DEBUG] json_sanitize: 105 bytes [{"model":"granite3.3:8b","created_at":"202]
[DEBUG] json_sanitize: sanitized: 105 bytes [[{"model":"granite3.3:8b","created_at":"202]]
 powerful[DEBUG] json_sanitize: 98 bytes [{"model":"granite3.3:8b","created_at":"202]
[DEBUG] json_sanitize: sanitized: 98 bytes [[{"model":"granite3.3:8b","created_at":"202]]
 h[DEBUG] json_sanitize: 98 bytes [{"model":"granite3.3:8b","created_at":"202]
[DEBUG] json_sanitize: sanitized: 98 bytes [[{"model":"granite3.3:8b","created_at":"202]]
ind[DEBUG] json_sanitize: 99 bytes [{"model":"granite3.3:8b","created_at":"202]
[DEBUG] json_sanitize: sanitized: 99 bytes [[{"model":"granite3.3:8b","created_at":"202]]
 li[DEBUG] json_sanitize: 98 bytes [{"model":"granite3.3:8b","created_at":"202]
[DEBUG] json_sanitize: sanitized: 98 bytes [[{"model":"granite3.3:8b","created_at":"202]]
mb[DEBUG] json_sanitize: 97 bytes [{"model":"granite3.3:8b","created_at":"202]
[DEBUG] json_sanitize: sanitized: 97 bytes [[{"model":"granite3.3:8b","created_at":"202]]
s[DEBUG] json_sanitize: 100 bytes [{"model":"granite3.3:8b","created_at":"202]
[DEBUG] json_sanitize: sanitized: 100 bytes [[{"model":"granite3.3:8b","created_at":"202]]
 and[DEBUG] json_sanitize: 105 bytes [{"model":"granite3.3:8b","created_at":"202]
[DEBUG] json_sanitize: sanitized: 105 bytes [[{"model":"granite3.3:8b","created_at":"202]]
 distinct[DEBUG] json_sanitize: 99 bytes [{"model":"granite3.3:8b","created_at":"202]
[DEBUG] json_sanitize: sanitized: 99 bytes [[{"model":"granite3.3:8b","created_at":"202]]
ive[DEBUG] json_sanitize: 98 bytes [{"model":"granite3.3:8b","created_at":"202]
[DEBUG] json_sanitize: sanitized: 98 bytes [[{"model":"granite3.3:8b","created_at":"202]]
 b[DEBUG] json_sanitize: 100 bytes [{"model":"granite3.3:8b","created_at":"202]
[DEBUG] json_sanitize: sanitized: 100 bytes [[{"model":"granite3.3:8b","created_at":"202]]
reed[DEBUG] json_sanitize: 99 bytes [{"model":"granite3.3:8b","created_at":"202]
[DEBUG] json_sanitize: sanitized: 99 bytes [[{"model":"granite3.3:8b","created_at":"202]]
ing[DEBUG] json_sanitize: 99 bytes [{"model":"granite3.3:8b","created_at":"202]
[DEBUG] json_sanitize: sanitized: 99 bytes [[{"model":"granite3.3:8b","created_at":"202]]
 hab[DEBUG] json_sanitize: 99 bytes [{"model":"granite3.3:8b","created_at":"202]
[DEBUG] json_sanitize: sanitized: 99 bytes [[{"model":"granite3.3:8b","created_at":"202]]
its[DEBUG] json_sanitize: 97 bytes [{"model":"granite3.3:8b","created_at":"202]
[DEBUG] json_sanitize: sanitized: 97 bytes [[{"model":"granite3.3:8b","created_at":"202]]
.[DEBUG] json_sanitize: 101 bytes [{"model":"granite3.3:8b","created_at":"202]
[DEBUG] json_sanitize: sanitized: 101 bytes [[{"model":"granite3.3:8b","created_at":"202]]
 They[DEBUG] json_sanitize: 103 bytes [{"model":"granite3.3:8b","created_at":"202]
[DEBUG] json_sanitize: sanitized: 103 bytes [[{"model":"granite3.3:8b","created_at":"202]]
 belong[DEBUG] json_sanitize: 99 bytes [{"model":"granite3.3:8b","created_at":"202]
[DEBUG] json_sanitize: sanitized: 99 bytes [[{"model":"granite3.3:8b","created_at":"202]]
 to[DEBUG] json_sanitize: 100 bytes [{"model":"granite3.3:8b","created_at":"202]
[DEBUG] json_sanitize: sanitized: 100 bytes [[{"model":"granite3.3:8b","created_at":"202]]
 the[DEBUG] json_sanitize: 103 bytes [{"model":"granite3.3:8b","created_at":"202]
[DEBUG] json_sanitize: sanitized: 103 bytes [[{"model":"granite3.3:8b","created_at":"202]]
 family[DEBUG] json_sanitize: 98 bytes [{"model":"granite3.3:8b","created_at":"202]
[DEBUG] json_sanitize: sanitized: 98 bytes [[{"model":"granite3.3:8b","created_at":"202]]
 L[DEBUG] json_sanitize: 98 bytes [{"model":"granite3.3:8b","created_at":"202]
[DEBUG] json_sanitize: sanitized: 98 bytes [[{"model":"granite3.3:8b","created_at":"202]]
ep[DEBUG] json_sanitize: 98 bytes [{"model":"granite3.3:8b","created_at":"202]
[DEBUG] json_sanitize: sanitized: 98 bytes [[{"model":"granite3.3:8b","created_at":"202]]
or[DEBUG] json_sanitize: 98 bytes [{"model":"granite3.3:8b","created_at":"202]
[DEBUG] json_sanitize: sanitized: 98 bytes [[{"model":"granite3.3:8b","created_at":"202]]
id[DEBUG] json_sanitize: 98 bytes [{"model":"granite3.3:8b","created_at":"202]
[DEBUG] json_sanitize: sanitized: 98 bytes [[{"model":"granite3.3:8b","created_at":"202]]
ae[DEBUG] json_sanitize: 100 bytes [{"model":"granite3.3:8b","created_at":"202]
[DEBUG] json_sanitize: sanitized: 100 bytes [[{"model":"granite3.3:8b","created_at":"202]]
 and[DEBUG] json_sanitize: 100 bytes [{"model":"granite3.3:8b","created_at":"202]
[DEBUG] json_sanitize: sanitized: 100 bytes [[{"model":"granite3.3:8b","created_at":"202]]
 are[DEBUG] json_sanitize: 103 bytes [{"model":"granite3.3:8b","created_at":"202]
[DEBUG] json_sanitize: sanitized: 103 bytes [[{"model":"granite3.3:8b","created_at":"202]]
 native[DEBUG] json_sanitize: 99 bytes [{"model":"granite3.3:8b","created_at":"202]
[DEBUG] json_sanitize: sanitized: 99 bytes [[{"model":"granite3.3:8b","created_at":"202]]
 to[DEBUG] json_sanitize: 103 bytes [{"model":"granite3.3:8b","created_at":"202]
[DEBUG] json_sanitize: sanitized: 103 bytes [[{"model":"granite3.3:8b","created_at":"202]]
 various[DEBUG] json_sanitize: 104 bytes [{"model":"granite3.3:8b","created_at":"202]
[DEBUG] json_sanitize: sanitized: 104 bytes [[{"model":"granite3.3:8b","created_at":"202]]
 regions[DEBUG] json_sanitize: 102 bytes [{"model":"granite3.3:8b","created_at":"202]
[DEBUG] json_sanitize: sanitized: 102 bytes [[{"model":"granite3.3:8b","created_at":"202]]
 world[DEBUG] json_sanitize: 100 bytes [{"model":"granite3.3:8b","created_at":"202]
[DEBUG] json_sanitize: sanitized: 100 bytes [[{"model":"granite3.3:8b","created_at":"202]]
wide[DEBUG] json_sanitize: 95 bytes [{"model":"granite3.3:8b","created_at":"202]
[DEBUG] json_sanitize: sanitized: 95 bytes [[{"model":"granite3.3:8b","created_at":"202]]
,[DEBUG] json_sanitize: 102 bytes [{"model":"granite3.3:8b","created_at":"202]
[DEBUG] json_sanitize: sanitized: 102 bytes [[{"model":"granite3.3:8b","created_at":"202]]
 often[DEBUG] json_sanitize: 107 bytes [{"model":"granite3.3:8b","created_at":"202]
[DEBUG] json_sanitize: sanitized: 107 bytes [[{"model":"granite3.3:8b","created_at":"202]]
 recognized[DEBUG] json_sanitize: 99 bytes [{"model":"granite3.3:8b","created_at":"202]
[DEBUG] json_sanitize: sanitized: 99 bytes [[{"model":"granite3.3:8b","created_at":"202]]
 as[DEBUG] json_sanitize: 103 bytes [{"model":"granite3.3:8b","created_at":"202]
[DEBUG] json_sanitize: sanitized: 103 bytes [[{"model":"granite3.3:8b","created_at":"202]]
 common[DEBUG] json_sanitize: 100 bytes [{"model":"granite3.3:8b","created_at":"202]
[DEBUG] json_sanitize: sanitized: 100 bytes [[{"model":"granite3.3:8b","created_at":"202]]
 pre[DEBUG] json_sanitize: 97 bytes [{"model":"granite3.3:8b","created_at":"202]
[DEBUG] json_sanitize: sanitized: 97 bytes [[{"model":"granite3.3:8b","created_at":"202]]
y[DEBUG] json_sanitize: 103 bytes [{"model":"granite3.3:8b","created_at":"202]
[DEBUG] json_sanitize: sanitized: 103 bytes [[{"model":"granite3.3:8b","created_at":"202]]
 animal[DEBUG] json_sanitize: 97 bytes [{"model":"granite3.3:8b","created_at":"202]
[DEBUG] json_sanitize: sanitized: 97 bytes [[{"model":"granite3.3:8b","created_at":"202]]
s[DEBUG] json_sanitize: 99 bytes [{"model":"granite3.3:8b","created_at":"202]
[DEBUG] json_sanitize: sanitized: 99 bytes [[{"model":"granite3.3:8b","created_at":"202]]
 in[DEBUG] json_sanitize: 101 bytes [{"model":"granite3.3:8b","created_at":"202]
[DEBUG] json_sanitize: sanitized: 101 bytes [[{"model":"granite3.3:8b","created_at":"202]]
 many[DEBUG] json_sanitize: 100 bytes [{"model":"granite3.3:8b","created_at":"202]
[DEBUG] json_sanitize: sanitized: 100 bytes [[{"model":"granite3.3:8b","created_at":"202]]
 eco[DEBUG] json_sanitize: 103 bytes [{"model":"granite3.3:8b","created_at":"202]
[DEBUG] json_sanitize: sanitized: 103 bytes [[{"model":"granite3.3:8b","created_at":"202]]
systems[DEBUG] json_sanitize: 97 bytes [{"model":"granite3.3:8b","created_at":"202]
[DEBUG] json_sanitize: sanitized: 97 bytes [[{"model":"granite3.3:8b","created_at":"202]]
.[DEBUG] json_sanitize: 802 bytes [{"model":"granite3.3:8b","created_at":"202]
[DEBUG] json_sanitize: sanitized: 802 bytes [[{"model":"granite3.3:8b","created_at":"202]]
[DEBUG] ollama_generate_stream: return: 0
```
