# ollama_generate_json

A [demo](../README.md#demos) of [Ollama Bash Lib](https://github.com/attogram/ollama-bash-lib) v0.40.24

## Demo

```bash
ollama_generate_json "deepseek-r1:14b" "Describe a rabbit in 2 short sentences"
```
```json
{"model":"deepseek-r1:14b","created_at":"2025-08-01T15:49:04.5632438Z","response":"\u003cthink\u003e\nOkay, so I need to describe a rabbit in two short sentences. Hmm, where do I start? Well, rabbits are pretty common animals, but I want to make sure I get the key points across.\n\nFirst, maybe talk about their appearance. They have fur, ears, and a tail. But wait, not all details are necessary. Maybe focus on what makes them distinctive. Oh, like their long ears and short tails. That's a good point because those features help identify them easily.\n\nNext, think about their behavior or habitat. Rabbits live in various placesâ€”fields, forests, gardens. They eat plants and vegetables. I should mention that they're herbivores to show what they eat. Also, maybe include something about how they move, like hopping on their hind legs. That's an interesting movement that sets them apart from other animals.\n\nI also want to highlight their gentle nature or intelligence. People often see rabbits as cute and smart, so adding that could give a nice touch to the description.\n\nPutting it all together: The first sentence can cover their physical characteristics and habitat. The second can talk about their diet and movement, maybe adding a bit about their behavior or traits.\n\nWait, let me check if I'm including too much. Two sentences need to be concise but informative. Maybe structure them like this:\n\n1. Describe their appearance and where they're found.\n2. Talk about what they eat, how they move, and a bit about their personality.\n\nYeah, that should work. Let me try to phrase it properly without making it sound too formal or complicated.\n\u003c/think\u003e\n\nRabbits are small mammals with long ears, short tails, and soft fur, often found in fields, forests, or gardens worldwide. They primarily eat plants and vegetables, moving by hopping on their hind legs, known for their gentle and intelligent nature.","done":true,"done_reason":"stop","context":[151644,74785,264,38724,304,220,17,2805,22870,151645,151648,198,32313,11,773,358,1184,311,7512,264,38724,304,1378,2805,22870,13,88190,11,1380,653,358,1191,30,8325,11,69144,525,5020,4185,9898,11,714,358,1366,311,1281,2704,358,633,279,1376,3501,3941,382,5338,11,7196,3061,911,862,11094,13,2379,614,18241,11,24230,11,323,264,9787,13,1988,3783,11,537,678,3565,525,5871,13,10696,5244,389,1128,3643,1105,34847,13,8670,11,1075,862,1293,24230,323,2805,63514,13,2938,594,264,1661,1459,1576,1846,4419,1492,10542,1105,6707,382,5847,11,1744,911,862,7709,476,38546,13,35724,11516,3887,304,5257,7482,2293,9007,11,35558,11,35436,13,2379,8180,10779,323,23880,13,358,1265,6286,429,807,2299,38899,344,4589,311,1473,1128,807,8180,13,7281,11,7196,2924,2494,911,1246,807,3271,11,1075,92238,389,862,47319,14201,13,2938,594,458,7040,7203,429,7289,1105,10747,504,1008,9898,382,40,1083,1366,311,11167,862,21700,6993,476,11229,13,8853,3545,1490,69144,438,18838,323,7785,11,773,7842,429,1410,2968,264,6419,5796,311,279,4008,382,97904,432,678,3786,25,576,1156,11652,646,3421,862,6961,17452,323,38546,13,576,2086,646,3061,911,862,9968,323,7203,11,7196,7842,264,2699,911,862,7709,476,24055,382,14190,11,1077,752,1779,421,358,2776,2670,2238,1753,13,9043,22870,1184,311,387,63594,714,38219,13,10696,5944,1105,1075,419,1447,16,13,60785,862,11094,323,1380,807,2299,1730,624,17,13,18976,911,1128,807,8180,11,1246,807,3271,11,323,264,2699,911,862,17294,382,23336,11,429,1265,975,13,6771,752,1430,311,17133,432,10277,2041,3259,432,5112,2238,15908,476,16965,624,151649,271,49,370,11516,525,2613,55569,448,1293,24230,11,2805,63514,11,323,8413,18241,11,3545,1730,304,5043,11,35558,11,476,35436,15245,13,2379,15503,8180,10779,323,23880,11,7218,553,92238,389,862,47319,14201,11,3881,369,862,21700,323,24514,6993,13],"total_duration":62439529500,"load_duration":5868448900,"prompt_eval_count":11,"prompt_eval_duration":350438000,"eval_count":376,"eval_duration":56219632500}
```

## Demo Debug

```bash
`OLLAMA_LIB_DEBUG=1 ollama_generate_json "deepseek-r1:14b" "Describe a rabbit in 2 short sentences"`
```
```json
[DEBUG] ollama_generate_json: [deepseek-r1:14b] [Describe a rabbit in 2 short sentences]
[DEBUG] ollama_generate_json: OLLAMA_LIB_STREAM: 0
[DEBUG] json_clean: 16 bytes [deepseek-r1:14b]
[DEBUG] json_clean: 39 bytes [Describe a rabbit in 2 short sentences]
[DEBUG] ollama_api_post: [/api/generate] [{"model":"deepseek-r1:14b","prompt":"Descr]
{"model":"deepseek-r1:14b","created_at":"2025-08-01T15:49:49.0068592Z","response":"\u003cthink\u003e\nOkay, so I need to describe a rabbit in two short sentences. Let me think about what makes a rabbit unique and interesting. Rabbits are small animals, right? They have soft fur and long ears. Oh yeah, and they're known for their rapid breeding because of the saying \"breed like rabbits.\" That's an important trait that sets them apart from other animals.\n\nI should also mention something about their behavior or characteristics. Maybe how they move quickly or their cute features. Let me see... One sentence could focus on their physical appearance and another on their reproduction rate. That way, I cover both aspects that make rabbits distinctive.\n\nWait, the first response mentioned soft fur, long ears, whiskers, a fluffy tail, and rapid breeding. That's comprehensive. Maybe I can structure it similarly but perhaps vary the wording to keep it fresh.\n\nAnother thought: Rabbits are often seen as symbols of speed because of their ability to move quickly on land. Including that could add another layer to the description. Also, their diet is mainly vegetation, which is a key part of their biology.\n\nHmm, I need to make sure each sentence is concise and not too wordy. Let me try drafting two sentences based on these thoughts.\n\u003c/think\u003e\n\nRabbits are small, gentle animals known for their soft fur, long ears, and rapid reproductive abilities, often symbolizing speed and agility in movement across various terrains.","done":true,"done_reason":"stop","context":[151644,74785,264,38724,304,220,17,2805,22870,151645,151648,198,32313,11,773,358,1184,311,7512,264,38724,304,1378,2805,22870,13,6771,752,1744,911,1128,3643,264,38724,4911,323,7040,13,35724,11516,525,2613,9898,11,1290,30,2379,614,8413,18241,323,1293,24230,13,8670,21639,11,323,807,2299,3881,369,862,11048,39208,1576,315,279,5488,330,20512,291,1075,69144,1189,2938,594,458,2989,17567,429,7289,1105,10747,504,1008,9898,382,40,1265,1083,6286,2494,911,862,7709,476,17452,13,10696,1246,807,3271,6157,476,862,18838,4419,13,6771,752,1490,1112,3776,11652,1410,5244,389,862,6961,11094,323,2441,389,862,38556,4379,13,2938,1616,11,358,3421,2176,13566,429,1281,69144,34847,382,14190,11,279,1156,2033,9733,8413,18241,11,1293,24230,11,40659,388,11,264,67561,9787,11,323,11048,39208,13,2938,594,15817,13,10696,358,646,5944,432,29193,714,8365,13289,279,60227,311,2506,432,7722,382,14037,3381,25,35724,11516,525,3545,3884,438,17738,315,4628,1576,315,862,5726,311,3271,6157,389,4268,13,55121,429,1410,912,2441,6193,311,279,4008,13,7281,11,862,9968,374,14576,53732,11,892,374,264,1376,949,315,862,33358,382,80022,11,358,1184,311,1281,2704,1817,11652,374,63594,323,537,2238,3409,88,13,6771,752,1430,57900,1378,22870,3118,389,1493,11303,624,151649,271,49,370,11516,525,2613,11,21700,9898,3881,369,862,8413,18241,11,1293,24230,11,323,11048,41789,17541,11,3545,7735,4849,4628,323,66641,304,7203,3941,5257,7170,1735,13],"total_duration":43669447000,"load_duration":24944600,"prompt_eval_count":11,"prompt_eval_duration":150708700,"eval_count":288,"eval_duration":43493400000}[DEBUG] ollama_api_post: return 0
[DEBUG] ollama_generate_json: return: 0

```
