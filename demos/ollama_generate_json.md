# ollama_generate_json

A [demo](../README.md#demos) of [Ollama Bash Lib](https://github.com/attogram/ollama-bash-lib) v0.42.1

## Demo

```bash
ollama_generate_json "granite3.3:2b" "Describe a rabbit in 3 words"
```
```json
{
  "model": "granite3.3:2b",
  "created_at": "2025-08-04T18:17:55.7671966Z",
  "response": "Furry, Velcro, Jumper.",
  "done": true,
  "done_reason": "stop",
  "context": [
    49152,
    2946,
    49153,
    39558,
    390,
    17071,
    2821,
    44,
    30468,
    225,
    36,
    34,
    36,
    38,
    32,
    203,
    4282,
    884,
    8080,
    278,
    659,
    30,
    18909,
    810,
    25697,
    32,
    2448,
    884,
    312,
    17247,
    19551,
    47330,
    32,
    0,
    203,
    49152,
    496,
    49153,
    8591,
    312,
    40810,
    328,
    225,
    37,
    8153,
    0,
    203,
    49152,
    17594,
    49153,
    56,
    305,
    994,
    30,
    676,
    342,
    27642,
    30,
    35309,
    265,
    32
  ],
  "total_duration": 1654946000,
  "load_duration": 1396300200,
  "prompt_eval_count": 50,
  "prompt_eval_duration": 134158400,
  "eval_count": 12,
  "eval_duration": 123105400
}

```

## Demo Debug

```bash
`OLLAMA_LIB_DEBUG=1 ollama_generate_json "granite3.3:2b" "Describe a rabbit in 3 words"`
```
```json
[DEBUG] ollama_generate_json: [granite3.3:2b] [Describe a rabbit in 3 words]
[DEBUG] ollama_generate_json: OLLAMA_LIB_STREAM: 0
[DEBUG] ollama_api_post: [/api/generate] [{
  "model": "granite3.3:2b",
  "prompt": ]
[DEBUG] ollama_api_post: return 0
[DEBUG] ollama_generate_json: return: 0
{
  "model": "granite3.3:2b",
  "created_at": "2025-08-04T18:17:56.2911118Z",
  "response": "\"Furry, Velcro.\" (Velcro refers to the rabbit's ability to stick its fur together.)",
  "done": true,
  "done_reason": "stop",
  "context": [
    49152,
    2946,
    49153,
    39558,
    390,
    17071,
    2821,
    44,
    30468,
    225,
    36,
    34,
    36,
    38,
    32,
    203,
    4282,
    884,
    8080,
    278,
    659,
    30,
    18909,
    810,
    25697,
    32,
    2448,
    884,
    312,
    17247,
    19551,
    47330,
    32,
    0,
    203,
    49152,
    496,
    49153,
    8591,
    312,
    40810,
    328,
    225,
    37,
    8153,
    0,
    203,
    49152,
    17594,
    49153,
    20,
    56,
    305,
    994,
    30,
    676,
    342,
    27642,
    3107,
    308,
    27899,
    27642,
    25490,
    372,
    322,
    40810,
    1182,
    13609,
    372,
    27537,
    2819,
    296,
    305,
    10752,
    7447
  ],
  "total_duration": 246379100,
  "load_duration": 11584800,
  "prompt_eval_count": 50,
  "prompt_eval_duration": 1051800,
  "eval_count": 26,
  "eval_duration": 233212900
}

```
